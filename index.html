<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Claw Machine Game</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive;
            text-align: center;
            background: #f0f8ff;
            padding: 2rem;
        }

        .machine {
            margin: auto;
            max-width: 400px;
        }

        button {
            background-color: #FF6B6B;
            color: white;
            font-size: 1.5rem;
            padding: 0.5rem 1.5rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #ff3b3b;
        }

        .card {
            margin-top: 2rem;
            padding: 1rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            background-color: white;
            animation: popIn 0.5s ease;
        }

        .card img {
            max-width: 100px;
        }

        .card.hidden {
            display: none;
        }

        @keyframes popIn {
            from {
                transform: scale(0.8);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .claw-container {
            height: 200px;
            position: relative;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .claw {
            width: 60px;
            height: 60px;
            position: absolute;
            top: -70px;
            left: 50%;
            transform: translateX(-50%);
            transition: top 0.6s ease-in-out;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 10px;
        }

        .arm {
            width: 10px;
            height: 40px;
            background-color: #333;
            border-radius: 5px;
            transition: transform 0.3s ease;
        }

        .left {
            transform: rotate(30deg);
            transform-origin: top right;
        }

        .right {
            transform: rotate(-30deg);
            transform-origin: top left;
        }

        .claw.drop {
            top: 120px;
        }

        .claw.grab .left {
            transform: rotate(5deg);
        }

        .claw.grab .right {
            transform: rotate(-5deg);
        }
    </style>
</head>

<body>
    <div class="machine">
        <div class="claw-container">
            <div class="claw" id="claw">
                <div class="arm left"></div>
                <div class="arm right"></div>
            </div>
        </div>
        <button id="pullButton">ðŸŽ¯ Pull Item</button>
        <div id="resultCard" class="card hidden">
            <img id="itemImage" src="" alt="Item">
            <h2 id="itemName"></h2>
        </div>
    </div>
    <script>
        const items = [
    { name: "Soy Milk", color: "#e8ccae", weight: 17, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Soy%20Milk.jpg" },
    { name: "Lychee Berry", color: "#e19fa8", weight: 17, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Lychee%20Berry.jpg" },
    { name: "Green Grape", color: "#a9ae87", weight: 17, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Green%20Grape.jpg" },
    { name: "Sea Salt Coconut", color: "#a4adb5", weight: 17, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Sea%20Salt%20Coconut.jpg" },
    { name: "Toffee", color: "#b69b83", weight: 17, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Toffee.jpg" },
    { name: "Sesame Bean", color: "#aca49f", weight: 17, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Sesame%20Bean.jpg" },
    { name: "Chestnut Cocoa", color: "#483423", weight: 1, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Chestnut%20Cocoa.jpg" },
    { name: "Sisi", color: "#fbd4a5", weight: 17, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Sisi.jpg" },
    { name: "Hehe", color: "#9f9f9f", weight: 17, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Hehe.jpg" },
    { name: "Baba", color: "#cf9257", weight: 17, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Baba.jpg" },
    { name: "Zizi", color: "#b8b1c4", weight: 17, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Zizi.jpg" },
    { name: "Ququ", color: "#b5c7b1", weight: 17, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Ququ.jpg" },
    { name: "Dada", color: "#f8d1c3", weight: 17, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Dada.jpg" },
    { name: "Duoduo", color: "#542911", weight: 1, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Duoduo.jpg" },
    { name: "Love", color: "#f23b57", weight: 17, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Love.png" },
    { name: "Happiness", color: "#f0bea6", weight: 17, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Happiness.png" },
    { name: "Loyalty", color: "#faaaba", weight: 17, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Loyalty.png" },
    { name: "Serenity", color: "#54a276", weight: 17, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Serenity.png" },
    { name: "Hope", color: "#44b0cd", weight: 17, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Hope.png" },
    { name: "Luck", color: "#d2b3da", weight: 17, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Luck.png" },
    { name: "Id", color: "#5a5a5a", weight: 1, image: "https://raw.githubusercontent.com/caitskinz/clawmachine/main/Id.jpg" }
  ];

  document.getElementById('pullButton').addEventListener('click', () => {
    const claw = document.getElementById('claw');
    const card = document.getElementById('resultCard');

    // Hide previous card
    card.classList.add('hidden');

    // Start claw drop
    claw.classList.add('drop');

    // After drop, grab
    setTimeout(() => {
      claw.classList.add('grab');

      // After grab, lift up
      setTimeout(() => {
        claw.classList.remove('drop');

        // After lift finishes, reveal item
        setTimeout(() => {
          claw.classList.remove('grab');
          const item = getRandomItem();
          showItem(item);
        }, 600);
      }, 500);
    }, 600);
  });

  function getRandomItem() {
    const totalWeight = items.reduce((sum, item) => sum + Number(item.weight), 0);
    let rand = Math.random() * totalWeight;

    for (let item of items) {
      if (rand < Number(item.weight)) return item;
      rand -= Number(item.weight);
    }
  }

  function showItem(item) {
    const card = document.getElementById('resultCard');
    const img = document.getElementById('itemImage');
    const name = document.getElementById('itemName');

    img.src = item.image;
    img.alt = item.name;
    name.textContent = item.name;
    name.style.color = item.color;

    card.classList.remove('hidden');
  }
    </script>
</body>

</html>
